{"version":3,"sources":["dist/croner.cjs"],"names":["global","factory","exports","module","define","amd","globalThis","self","Cron","this","convertTZ","date","tzString","Date","toLocaleString","timeZone","CronDate","timezone","fromDate","fromString","fromCronDate","TypeError","prototype","fromLocal","milliseconds","getMilliseconds","seconds","getSeconds","minutes","getMinutes","hours","getHours","days","getDate","months","getMonth","years","getFullYear","apply","let","newDate","str","parsedDate","parseISOLocal","isNaN","increment","pattern","rerun","origTime","getTime","findNext","target","offset","override","startPos","i","length","resetPrevious","doing","toDo","daysOfWeek","getDay","internal","targetDate","s","b","split","NaN","year","parseInt","month","day","hour","minute","second","CronPattern","Array","fill","parse","constructor","String","parts","trim","replace","unshift","replaceAlphaMonths","replaceAlphaDays","throwAtIllegalCharacters","partToArray","type","conf","valueIndexOffset","arr","handled","indexOf","handleRange","handleStepping","handleNumber","reValidCron","test","lower","upper","combine","steps","maxDelay","Math","pow","options","func","processOptions","fn","schedule","paused","maxRuns","Infinity","catch","kill","startAt","stopAt","next","prev","_next","running","msLeft","msToNext","previousrun","previous","nextRun","stop","currentTimeout","clearTimeout","pause","resume","waitMs","_maxDelay","setTimeout","_e"],"mappings":"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"}