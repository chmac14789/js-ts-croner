var t={407:t=>{const e=Math.pow(2,31)-1;function r(t){throw new TypeError("Cron parser: "+t)}function s(t,e){for(let r=0;r<t.length;r++)t[r]=e;return t}function a(t){this.milliseconds=t.getMilliseconds(),this.seconds=t.getSeconds()+1,this.minutes=t.getMinutes(),this.hours=t.getHours(),this.days=t.getDate(),this.months=t.getMonth(),this.years=t.getFullYear()}function n(t){this.pattern=t,this.seconds=s(Array(60),0),this.minutes=s(Array(60),0),this.hours=s(Array(24),0),this.days=s(Array(31),0),this.months=s(Array(12),0),this.daysOfWeek=s(Array(8),0),this.parse()}function o(t,e,r){let s=this;return this instanceof o?(s.pattern=new n(t),s.schedulerDefaults={stopAt:1/0,maxRuns:1/0,kill:!1},"function"==typeof e&&(r=e,e={}),s.opts=s.validateOpts(e||{}),void 0===r?s:this.schedule(e,r)):new o(t,e,r)}a.prototype.increment=function(t){let e=this,r=function(t,r,s,a){for(let n=void 0===a?e[t]+s:0+s;n<r[t].length;n++)if(r[t][n])return e[t]=n-s,!0;return!1},s=[["seconds","minutes",0],["minutes","hours",0],["hours","days",0],["days","months",-1],["months","years",0]],a=0;for(;a<5;){if(!r(s[a][0],t,s[a][2]))for(this[s[a][1]]++;a>=0;)r(s[a][0],t,s[a][2],0),a--;a++}for(;!t.daysOfWeek[this.getDate().getDay()];)this.days+=1},a.prototype.getDate=function(){return new Date(this.years,this.months,this.days,this.hours,this.minutes,this.seconds,0)},n.prototype.parse=function(){"string"!=typeof this.pattern&&this.pattern.constructor!==String&&r("Pattern has to be of type string.");let t,e,s,a,n,o=this.pattern.trim().replace(/\s+/g," ").split(" "),i=/[^/*0-9,-]+/;for(6!==o.length&&r("invalid configuration format ('"+this.pattern+"'), exacly five space separated parts required."),e=0;e<o.length;e++)t=o[e].trim(),i.test(t)&&r("configuration entry "+(e+1)+" ("+t+") contains illegal characters.");s="*"!==o[4],a="*"!==o[5],n="*"!==o[3],a&&(s||n)&&r("configuration invalid, you can not combine month/date with day of week."),this.partToArray("seconds",o[0],0),this.partToArray("minutes",o[1],0),this.partToArray("hours",o[2],0),this.partToArray("days",o[3],-1),this.partToArray("months",o[4],-1),this.partToArray("daysOfWeek",o[5],0),this.daysOfWeek[7]&&(this.daysOfWeek[0]=1)},n.prototype.partToArray=function(t,e,s){let a,n,o,i,l,u=this[t];if("*"!==e)if(n=e.split(","),n.length>1)for(a=0;a<n.length;a++)this.partToArray(t,n[a],s);else if(-1!==e.indexOf("-"))for(n=e.split("-"),2!==n.length&&r("Syntax error, illegal range: '"+e+"'"),o=parseInt(n[0],10)+s,i=parseInt(n[1],10)+s,isNaN(o)?r("Syntax error, illegal lower range (NaN)"):isNaN(i)&&r("Syntax error, illegal upper range (NaN)"),(o<0||i>=u.length)&&r("Value out of range: '"+e+"'"),o>i&&r("From value is larger than to value: '"+e+"'"),a=o;a<=i;a++)u[a+s]=1;else if(-1!==e.indexOf("/"))for(n=e.split("/"),2!==n.length&&r("Syntax error, illegal stepping: '"+e+"'"),"*"!==n[0]&&r("Syntax error, left part of / needs to be * : '"+e+"'"),l=parseInt(n[1],10),isNaN(l)&&r("Syntax error, illegal stepping: (NaN)"),0===l&&r("Syntax error, illegal stepping: 0"),l>u.length&&r("Syntax error, steps cannot be greater than maximum value of part ("+u.length+")"),a=0;a<u.length;a+=l)u[a+s]=1;else a=parseInt(e,10)+s,(a<0||a>=u.length)&&r(t+" value out of range: '"+e+"'"),u[a]=1;else for(a=0;a<u.length;a++)u[a]=1},o.prototype.next=function(t){let e=this._next(t);return e&&e.setMilliseconds(0),e},o.prototype._next=function(t){if(t=t||new Date,this.opts.startAt&&t<this.opts.startAt&&(t=this.opts.startAt),this.opts.maxRuns<=0||this.opts.kill)return;let e,r=this.opts.stopAt||this.schedulerDefaults.stopAt,s=new a(t);return s.increment(this.pattern),e=s.getDate(),r&&e>=r?void 0:e},o.prototype.validateOpts=function(t){return t.startAt&&(t.startAt.constructor!==Date?t.startAt=new Date(Date.parse(t.startAt)-1):t.startAt=new Date(t.startAt.getTime()-1),isNaN(t.startAt)&&r("Provided value for startAt could not be parsed as date.")),t.stopAt&&(t.stopAt.constructor!==Date&&(t.stopAt=new Date(Date.parse(t.stopAt))),isNaN(t.stopAt)&&r("Provided value for stopAt could not be parsed as date.")),t},o.prototype.msToNext=function(t){t=t||new Date;let e=this._next(t);return e?this._next(t)-t.getTime():e},o.prototype.schedule=function(t,r){let s,a=this,n=a.maxDelay||e;if(r||(r=t,t={}),t.paused=void 0!==t.paused&&t.paused,t.kill=t.kill||this.schedulerDefaults.kill,t.rest=t.rest||0,t.maxRuns||0===t.maxRuns||(t.maxRuns=this.schedulerDefaults.maxRuns),a.opts=a.validateOpts(t||{}),s=this.msToNext(t.previous),void 0!==s)return s>n&&(s=n),t.currentTimeout=setTimeout((function(){s!==n&&(t.previous=a._next(t.previous),t.paused||(t.maxRuns--,r())),a.schedule(t,r)}),s),{stop:function(){t.kill=!0,t.currentTimeout&&clearTimeout(t.currentTimeout)},pause:function(){return(t.paused=!0)&&!t.kill},resume:function(){return!(t.paused=!1)&&!t.kill}}},t.exports=o}},e={};function r(s){var a=e[s];if(void 0!==a)return a.exports;var n=e[s]={exports:{}};return t[s](n,n.exports,r),n.exports}r.d=(t,e)=>{for(var s in e)r.o(e,s)&&!r.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var s={};(()=>{r.d(s,{P:()=>t,Z:()=>t});var t=r(407)})();var a=s.P,n=s.Z;export{a as Cron,n as default};